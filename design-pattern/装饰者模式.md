装饰者模式：给爱用继承的人一个全新的设计眼界 

以对象组合的方式，做到在运行时装饰类

在不修改任何底层代码的情况下，给对象赋予新的职责

设计具有弹性可以应对改变，可以接受新的功能，来应对改变的需求。

设计原则：类应该对扩展开放，对修改关闭

每个地方都采用开放-关闭原则是一种浪费，也没有必要，还会导致代码变得复杂且难以理解

定义：

动态地将责任附加到对象上。若要扩展功能，装饰者提供了比继承更有弹性的代替方案

特点：

​	装饰者和被装饰对象有相同的超类型（利用继承达到类型匹配，而不是利用继承获得行为）

你可以用一个或多个装饰者包装一个对象

既然装饰者和被装饰对象有相同的超类型，所以在任何需要原始对象被包装的场合，可以用装饰过的对象代替代替它。

装饰者可以在所委托被装饰者的行为之前或之后，加上自己的行为，以达到特定的目的。

对象可以在任何时候被装饰，所以可以在运行时，动态的，不限量的用你喜欢的装饰者来装饰对象



问题：不通过继承如何达到复用？

通过composition和delegation可以在运行时具有继承行为的效果

继承与组合的区别？

- 继承编译时静态决定的，而所有的子类都会继承到相同的行为
- 组合在运行时进行动态的扩展

什么叫做对扩展开放，对关闭修改？

观察者模式，可以在不修改subject的情况下添加新的观察者。

如何装饰一个对象？委托是如何起作用的？



p135

缺点：会造成系统中有大量的小类。



