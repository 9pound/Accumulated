# Redis事务

## 本质

让一个客户端在不被其他客户端打断的情况下执行多个命令

## 命令

- MULTI ：开启事务
- EXEC ：执行事务
- WATCH
- UNWATCH
- DISCARD：取消事务

## 原理：

当redis从一个客户端哪里接受到MULTI命令是，Redis会将这个客户端之后发送的所有命令都放入到一个队列里面，直到这个客户端发送EXEC命令为止，然后Redis就会在不被打断的情况下，一个接一个的执行存储在队列里面的命令。

在Redis中被MULTI命令和EXEC命令包围的所用命令会一个接一个地执行，直到所有命令都执行完毕为止。当一个事务执行完毕之后，redis才会处理其他客户端的命令。



WATCH、UNWATCH、DISCARD



## 问题

redis的事务处理并不支持回滚